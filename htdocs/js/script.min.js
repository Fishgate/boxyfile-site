function get_total(){var e=0;$(".userQTY").each(function(){e+=$(this).val()*$(this).data("price")}),$("#rands").html("R"+e.toFixed(2))}function disable_alpha_chars(e){exceptions=new Array(48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,46,8,9);for(i in exceptions)if(allow_key=!1,e.keyCode==exceptions[i]){allow_key=!0;break}allow_key||e.preventDefault()}function default_if_empty(){""==$(this).val()&&$(this).val(0)}function reset_order_form(){$(".userQTY").each(function(){$(this).val(0)}),$("#ordername").val("Name:"),$("#ordercompany").val("Company Name:"),$("#ordernumber").val("Contact Number:"),$("#orderemail").val("Email Address:"),$("#orderaddress").val("Delivery Address:")}function hide_all_steps(){$(".stepsholder").children().each(function(){$(this).hide()})}function all_btns_grey(){$(".stepscontrolsholder ul").children().each(function(){$(this).css("background","#766E61")})}function this_btn_orange(){$(this).css("background","#ff6600")}function show_related_step(){$($(this).data("rel")).show()}$(document).ready(function(){$(".kwicks").kwicks({min:104,spacing:0,sticky:!0,event:"click"}),$(".stepscontrolsholder ul").children().each(function(){$(this).click(function(){all_btns_grey(),$(this).css("background","#ff6600"),hide_all_steps(),$($(this).data("rel")).show()})}),get_total(),$(".userQTY").bind("keyup paste",get_total).bind("keydown",disable_alpha_chars).bind("blur",default_if_empty),$("#ordernumber").bind("keydown",disable_alpha_chars),clear_focus("ordername","Name:"),clear_focus("ordercompany","Company Name:"),clear_focus("ordernumber","Contact Number:"),clear_focus("orderemail","Email Address:"),clear_focus("orderaddress","Delivery Address:"),$(".submitbtn").click(function(){validName=validate("ordername","Name:"),validCompanyName=validate("ordercompany","Company Name:"),validNumber=validate("ordernumber","Contact Number:"),validEmail=validate_email("orderemail","Email Address:"),validAddress=validate("orderaddress","Delivery Address:"),validName&&validCompanyName&&validNumber&&validEmail&&validAddress?(has_products=!1,$(".userQTY").each(function(){return 0!=$(this).val()?(has_products=!0,void 0):void 0}),has_products?$.post("process.php",$("#orderform").serialize(),function(e){result=e.trim(),"success"==result&&(reset_order_form(),alert("Thank you. Your order is currently being processed. You will receive a confirmation email including payment details shortly."))}):alert("Please add a product to your order before submiting your details.")):alert("Please fill out the required form fields correctly.")})});